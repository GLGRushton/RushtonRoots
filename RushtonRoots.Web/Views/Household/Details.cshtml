@model RushtonRoots.Domain.UI.Models.HouseholdViewModel
@{
    ViewData["Title"] = "Household Details";
}

<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Household Details</h2>
        <div>
            @if (User.IsInRole("Admin") || User.IsInRole("HouseholdAdmin"))
            {
                <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Edit</a>
            }
            @if (User.IsInRole("Admin"))
            {
                <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger">Delete</a>
            }
            <a asp-action="Index" class="btn btn-secondary">Back to List</a>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <dl class="row">
                <dt class="col-sm-3">Household Name</dt>
                <dd class="col-sm-9">@Model.HouseholdName</dd>

                <dt class="col-sm-3">Anchor Person</dt>
                <dd class="col-sm-9">
                    <a asp-controller="Person" asp-action="Details" asp-route-id="@Model.AnchorPersonId">@Model.AnchorPersonName</a>
                </dd>

                <dt class="col-sm-3">Members</dt>
                <dd class="col-sm-9">
                    <a asp-action="Members" asp-route-id="@Model.Id">
                        @Model.MemberCount @(Model.MemberCount == 1 ? "member" : "members")
                    </a>
                </dd>

                <dt class="col-sm-3">Created</dt>
                <dd class="col-sm-9">@Model.CreatedDateTime.ToString("MMMM dd, yyyy hh:mm tt")</dd>

                <dt class="col-sm-3">Last Updated</dt>
                <dd class="col-sm-9">@Model.UpdatedDateTime.ToString("MMMM dd, yyyy hh:mm tt")</dd>
            </dl>

            <div class="mt-4">
                <a asp-action="Members" asp-route-id="@Model.Id" class="btn btn-primary">
                    <i class="bi bi-people"></i> View All Members
                </a>
            </div>
        </div>
    </div>
</div>
