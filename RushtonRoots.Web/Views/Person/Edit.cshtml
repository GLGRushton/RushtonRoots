@model RushtonRoots.Domain.UI.Models.PersonViewModel

@{
    ViewData["Title"] = "Edit Person";
}

<div class="container mt-4">
    <!-- PersonFormComponent - Angular-based form for editing people -->
    <app-person-form 
        id="personEditForm"
        person-id="@Model.Id"
        initial-data='@Html.Raw(System.Text.Json.JsonSerializer.Serialize(new {
            firstName = Model.FirstName,
            lastName = Model.LastName,
            dateOfBirth = Model.DateOfBirth?.ToString("yyyy-MM-dd"),
            isDeceased = Model.IsDeceased,
            dateOfDeath = Model.DateOfDeath?.ToString("yyyy-MM-dd"),
            photoUrl = Model.PhotoUrl
        }))'>
    </app-person-form>
</div>

