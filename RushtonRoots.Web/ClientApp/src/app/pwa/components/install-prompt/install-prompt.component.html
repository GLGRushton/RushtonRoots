<div class="install-prompt" *ngIf="showBanner && !promptState?.isInstalled">
  <div class="install-prompt__banner">
    <mat-card class="install-prompt__card">
      <div class="install-prompt__content">
        <div class="install-prompt__icon">
          <mat-icon>get_app</mat-icon>
        </div>
        <div class="install-prompt__text">
          <h3 class="install-prompt__title">Install RushtonRoots</h3>
          <p class="install-prompt__description">
            Install this app on your device for quick and easy access to your family tree.
          </p>
        </div>
        <div class="install-prompt__actions">
          <button mat-raised-button color="primary" 
                  (click)="onInstall()" 
                  [disabled]="installing"
                  class="install-prompt__install-btn">
            <mat-icon *ngIf="!installing">download</mat-icon>
            <mat-spinner *ngIf="installing" diameter="20"></mat-spinner>
            {{ installing ? 'Installing...' : 'Install' }}
          </button>
          <button mat-icon-button (click)="onDismiss()" class="install-prompt__close-btn">
            <mat-icon>close</mat-icon>
          </button>
        </div>
      </div>
    </mat-card>
  </div>
</div>

<!-- Manual installation instructions -->
<div class="install-instructions" *ngIf="showInstructions && instructions">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        <mat-icon>{{ instructions.icon }}</mat-icon>
        How to Install on {{ instructions.platform === 'ios' ? 'iOS' : instructions.platform === 'android' ? 'Android' : 'Desktop' }}
      </mat-card-title>
      <button mat-icon-button (click)="toggleInstructions()" class="close-btn">
        <mat-icon>close</mat-icon>
      </button>
    </mat-card-header>
    <mat-card-content>
      <p class="install-instructions__browser">Using {{ instructions.browser }}</p>
      <ol class="install-instructions__steps">
        <li *ngFor="let step of instructions.steps">{{ step }}</li>
      </ol>
    </mat-card-content>
  </mat-card>
</div>
